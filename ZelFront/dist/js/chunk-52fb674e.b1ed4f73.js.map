{"version":3,"sources":["webpack:///./ZelFront/src/services/DashboardService.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./ZelFront/src/views/dashboard/List.vue?7c7e","webpack:///ZelFront/src/views/dashboard/List.vue","webpack:///./ZelFront/src/views/dashboard/List.vue?b6a4","webpack:///./ZelFront/src/views/dashboard/List.vue","webpack:///./node_modules/bootstrap-vue/esm/utils/noop.js"],"names":["listZelNodes","Api","get","zelnodeCount","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","render","_vm","_h","$createElement","_c","_self","attrs","fluxListLoading","staticClass","_v","pageOptions","model","value","callback","$$v","perPage","expression","filter","on","$event","currentPage","items","fields","sortBy","sortDesc","sortDirection","filterOn","onFiltered","scopedSlots","_u","key","fn","data","_s","Date","Number","item","lastpaid","toLocaleString","timeoptions","totalRows","staticRenderFns","components","BCard","BTable","BRow","BCol","BPagination","BFormGroup","BFormSelect","BInputGroup","BFormInput","BInputGroupAppend","BButton","BOverlay","year","month","day","hour","minute","computed","sortOptions","mounted","getFluxList","methods","formatTableEntry","filteredItems","component","noop"],"mappings":"kHAAA,gBAEe,QACbA,aADa,WAEX,OAAOC,iBAAMC,IAAI,yBAEnBC,aAJa,WAKX,OAAOF,iBAAMC,IAAI,8B,oCCNrB,IAAIE,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAAgCC,KAChDC,EAAmB,EAAQ,QAE3BC,EAAO,OACPC,GAAc,EAGdD,IAAQ,IAAIE,MAAM,GAAGF,IAAM,WAAcC,GAAc,KAI3DL,EAAE,CAAEO,OAAQ,QAASC,OAAO,EAAMC,OAAQJ,GAAe,CACvDH,KAAM,SAAcQ,GAClB,OAAOT,EAAMU,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAKzEX,EAAiBC,I,kCCnBjB,IAAIJ,EAAI,EAAQ,QACZe,EAAO,EAAQ,QAAgCC,IAC/CC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDjB,EAAE,CAAEO,OAAQ,QAASC,OAAO,EAAMC,QAASS,GAAuB,CAChEF,IAAK,SAAaN,GAChB,OAAOK,EAAKJ,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,yCCZxE,IAAIK,EAAS,WAAa,IAAIC,EAAIT,KAASU,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACE,MAAM,CAAC,KAAOL,EAAIM,gBAAgB,QAAU,cAAc,KAAO,QAAQ,CAACH,EAAG,SAAS,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,eAAe,CAACI,YAAY,QAAQ,CAACJ,EAAG,QAAQ,CAACI,YAAY,kCAAkC,CAACP,EAAIQ,GAAG,cAAcL,EAAG,gBAAgB,CAACI,YAAY,OAAOF,MAAM,CAAC,GAAK,gBAAgB,KAAO,KAAK,QAAUL,EAAIS,aAAaC,MAAM,CAACC,MAAOX,EAAW,QAAEY,SAAS,SAAUC,GAAMb,EAAIc,QAAQD,GAAKE,WAAW,cAAc,IAAI,GAAGZ,EAAG,QAAQ,CAACI,YAAY,OAAOF,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,eAAe,CAACI,YAAY,OAAOF,MAAM,CAAC,MAAQ,SAAS,gBAAgB,IAAI,iBAAiB,QAAQ,YAAY,gBAAgB,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,OAAO,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,cAAc,KAAO,SAAS,YAAc,kBAAkBK,MAAM,CAACC,MAAOX,EAAU,OAAEY,SAAS,SAAUC,GAAMb,EAAIgB,OAAOH,GAAKE,WAAW,YAAYZ,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,UAAYL,EAAIgB,QAAQC,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAIgB,OAAS,MAAM,CAAChB,EAAIQ,GAAG,cAAc,IAAI,IAAI,IAAI,GAAGL,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,OAAO,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,GAAG,MAAQ,GAAG,WAAa,GAAG,WAAWL,EAAIc,QAAQ,eAAed,EAAImB,YAAY,MAAQnB,EAAIoB,MAAM,OAASpB,EAAIqB,OAAO,UAAUrB,EAAIsB,OAAO,YAAYtB,EAAIuB,SAAS,iBAAiBvB,EAAIwB,cAAc,OAASxB,EAAIgB,OAAO,yBAAyBhB,EAAIyB,UAAUR,GAAG,CAAC,gBAAgB,SAASC,GAAQlB,EAAIsB,OAAOJ,GAAQ,iBAAiB,SAASA,GAAQlB,EAAIsB,OAAOJ,GAAQ,kBAAkB,SAASA,GAAQlB,EAAIuB,SAASL,GAAQ,mBAAmB,SAASA,GAAQlB,EAAIuB,SAASL,GAAQ,SAAWlB,EAAI0B,YAAYC,YAAY3B,EAAI4B,GAAG,CAAC,CAACC,IAAI,iBAAiBC,GAAG,SAASC,GAAM,MAAO,CAAC/B,EAAIQ,GAAG,IAAIR,EAAIgC,GAAG,IAAIC,KAAkC,IAA7BC,OAAOH,EAAKI,KAAKC,WAAkBC,eAAe,QAASrC,EAAIsC,cAAc,aAAa,GAAGnC,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,OAAO,CAACF,EAAG,eAAe,CAACI,YAAY,OAAOF,MAAM,CAAC,aAAaL,EAAIuC,UAAU,WAAWvC,EAAIc,QAAQ,MAAQ,SAAS,KAAO,MAAMJ,MAAM,CAACC,MAAOX,EAAe,YAAEY,SAAS,SAAUC,GAAMb,EAAImB,YAAYN,GAAKE,WAAW,kBAAkB,IAAI,IAAI,IAAI,IAC3pEyB,EAAkB,G,4NCiGtB,YAEA,GACEC,WAAY,CACVC,MAAJ,OACIC,OAAJ,OACIC,KAAJ,OACIC,KAAJ,OACIC,YAAJ,OACIC,WAAJ,OACIC,YAAJ,OACIC,YAAJ,OACIC,WAAJ,OACIC,kBAAJ,OACIC,QAAJ,OACIC,SAAJ,QAEEtB,KAfF,WAgBI,MAAO,CACLO,YAAa,CACXgB,KAAM,UACNC,MAAO,QACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,WAEVpD,iBAAiB,EACjBQ,QAAS,GACTL,YAAa,CAAC,GAAI,GAAI,GAAI,IAAK,KAC/Ba,OAAQ,GACRC,UAAU,EACVC,cAAe,MACfJ,MAAO,GACPJ,OAAQ,GACRS,SAAU,GACVJ,OAAQ,CACd,CAAQ,IAAR,KAAQ,MAAR,aAAQ,UAAR,GACA,CAAQ,IAAR,kBAAQ,MAAR,UAAQ,UAAR,GACA,CACQ,IAAR,mBACQ,MAAR,UACQ,UAAR,EACQ,UAAR,uBAEA,CACQ,IAAR,eACQ,MAAR,WACQ,UAAR,EACQ,UAAR,uBAEA,CAAQ,IAAR,WAAQ,MAAR,YAAQ,UAAR,GACA,CAAQ,IAAR,OAAQ,MAAR,OAAQ,UAAR,IAEMkB,UAAW,EACXpB,YAAa,IAGjBwC,SAAU,CACRC,YADJ,WAGM,OAAOrE,KAAK8B,OAClB,oBAAQ,OAAR,cACA,iBAAQ,MAAR,gCAGEwC,QA/DF,WAgEItE,KAAKuE,eAEPC,QAAS,CACPC,iBADJ,SACA,GACM,OAAKrD,GACI,WAIX,YAPJ,WAOA,sLAEA,qBAFA,SAGA,kDAHA,cAGA,EAHA,OAIA,cAJA,SAKA,sBALA,OAKA,EALA,OAMA,cACA,KACA,uBACA,QACA,qDACA,aAEA,6CACA,2BACA,gBACA,qBACA,qBAjBA,qDAmBA,kBAnBA,6DAsBIe,WA7BJ,SA6BA,GAEMnC,KAAKgD,UAAY0B,EAAcxE,OAC/BF,KAAK4B,YAAc,KCtMmV,I,YCOxW+C,EAAY,eACd,EACAnE,EACAyC,GACA,EACA,KACA,KACA,MAIa,aAAA0B,E,2CClBf,kCAAO,IAAIC,EAAO","file":"js/chunk-52fb674e.b1ed4f73.js","sourcesContent":["import Api from '@/services/Api';\n\nexport default {\n  listZelNodes() {\n    return Api().get('/daemon/listzelnodes');\n  },\n  zelnodeCount() {\n    return Api().get('/daemon/getzelnodecount');\n  },\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.fluxListLoading,\"variant\":\"transparent\",\"blur\":\"5px\"}},[_c('b-card',[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"4\",\"sm\":\"4\"}},[_c('b-form-group',{staticClass:\"mb-0\"},[_c('label',{staticClass:\"d-inline-block text-left mr-50\"},[_vm._v(\"Per page\")]),_c('b-form-select',{staticClass:\"w-50\",attrs:{\"id\":\"perPageSelect\",\"size\":\"sm\",\"options\":_vm.pageOptions},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)],1),_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"8\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label\":\"Filter\",\"label-cols-sm\":\"1\",\"label-align-sm\":\"right\",\"label-for\":\"filterInput\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"id\":\"filterInput\",\"type\":\"search\",\"placeholder\":\"Type to Search\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\" Clear \")])],1)],1)],1)],1),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"items\":_vm.items,\"fields\":_vm.fields,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"sort-direction\":_vm.sortDirection,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(lastpaid)\",fn:function(data){return [_vm._v(\" \"+_vm._s(new Date(Number(data.item.lastpaid) * 1000).toLocaleString(\"en-GB\", _vm.timeoptions))+\" \")]}}])})],1),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"center\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-overlay\n    :show=\"fluxListLoading\"\n    variant=\"transparent\"\n    blur=\"5px\"\n  >\n    <b-card>\n      <b-row>\n        <b-col\n          md=\"4\"\n          sm=\"4\"\n          class=\"my-1\"\n        >\n          <b-form-group class=\"mb-0\">\n            <label class=\"d-inline-block text-left mr-50\">Per page</label>\n            <b-form-select\n              id=\"perPageSelect\"\n              v-model=\"perPage\"\n              size=\"sm\"\n              :options=\"pageOptions\"\n              class=\"w-50\"\n            />\n          </b-form-group>\n        </b-col>\n        <b-col\n          md=\"8\"\n          class=\"my-1\"\n        >\n          <b-form-group\n            label=\"Filter\"\n            label-cols-sm=\"1\"\n            label-align-sm=\"right\"\n            label-for=\"filterInput\"\n            class=\"mb-0\"\n          >\n            <b-input-group size=\"sm\">\n              <b-form-input\n                id=\"filterInput\"\n                v-model=\"filter\"\n                type=\"search\"\n                placeholder=\"Type to Search\"\n              />\n              <b-input-group-append>\n                <b-button\n                  :disabled=\"!filter\"\n                  @click=\"filter = ''\"\n                >\n                  Clear\n                </b-button>\n              </b-input-group-append>\n            </b-input-group>\n          </b-form-group>\n        </b-col>\n\n        <b-col cols=\"12\">\n          <b-table\n            striped\n            hover\n            responsive\n            :per-page=\"perPage\"\n            :current-page=\"currentPage\"\n            :items=\"items\"\n            :fields=\"fields\"\n            :sort-by.sync=\"sortBy\"\n            :sort-desc.sync=\"sortDesc\"\n            :sort-direction=\"sortDirection\"\n            :filter=\"filter\"\n            :filter-included-fields=\"filterOn\"\n            @filtered=\"onFiltered\"\n          >\n            <template #cell(lastpaid)=\"data\">\n              {{ new Date(Number(data.item.lastpaid) * 1000).toLocaleString(\"en-GB\", timeoptions) }}\n            </template>\n          </b-table>\n        </b-col>\n\n        <b-col cols=\"12\">\n          <b-pagination\n            v-model=\"currentPage\"\n            :total-rows=\"totalRows\"\n            :per-page=\"perPage\"\n            align=\"center\"\n            size=\"sm\"\n            class=\"my-0\"\n          />\n        </b-col>\n      </b-row>\n    </b-card>\n  </b-overlay>\n</template>\n\n<script>\nimport {\n  BCard, BTable, BRow, BCol, BFormGroup, BFormSelect, BPagination, BInputGroup, BFormInput, BInputGroupAppend, BButton,\n  BOverlay,\n} from 'bootstrap-vue';\nimport DashboardService from '@/services/DashboardService';\n\nconst axios = require('axios');\n\nexport default {\n  components: {\n    BCard,\n    BTable,\n    BRow,\n    BCol,\n    BPagination,\n    BFormGroup,\n    BFormSelect,\n    BInputGroup,\n    BFormInput,\n    BInputGroupAppend,\n    BButton,\n    BOverlay,\n  },\n  data() {\n    return {\n      timeoptions: {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n      },\n      fluxListLoading: true,\n      perPage: 10,\n      pageOptions: [10, 25, 50, 100, 1000],\n      sortBy: '',\n      sortDesc: false,\n      sortDirection: 'asc',\n      items: [],\n      filter: '',\n      filterOn: [],\n      fields: [\n        { key: 'ip', label: 'IP Address', sortable: true },\n        { key: 'payment_address', label: 'Address', sortable: true },\n        {\n          key: 'location.country',\n          label: 'Country',\n          sortable: true,\n          formatter: this.formatTableEntry,\n        },\n        {\n          key: 'location.org',\n          label: 'Provider',\n          sortable: true,\n          formatter: this.formatTableEntry,\n        },\n        { key: 'lastpaid', label: 'Last Paid', sortable: true },\n        { key: 'tier', label: 'Tier', sortable: true },\n      ],\n      totalRows: 1,\n      currentPage: 1,\n    };\n  },\n  computed: {\n    sortOptions() {\n      // Create an options list from our fields\n      return this.fields\n        .filter((f) => f.sortable)\n        .map((f) => ({ text: f.label, value: f.key }));\n    },\n  },\n  mounted() {\n    this.getFluxList();\n  },\n  methods: {\n    formatTableEntry(value) {\n      if (!value) {\n        return 'Unknown';\n      }\n      return value;\n    },\n    async getFluxList() {\n      try {\n        this.fluxListLoading = true;\n        const resLoc = await axios.get('https://stats.runonflux.io/fluxlocations');\n        const locations = resLoc.data.data;\n        const resList = await DashboardService.listZelNodes();\n        const fluxList = resList.data.data;\n        const adjustedFluxList = [];\n        fluxList.forEach((node) => {\n          const adjustedNode = node;\n          adjustedNode.location = locations.find((location) => location.ip === adjustedNode.ip);\n          adjustedFluxList.push(adjustedNode);\n        });\n        this.items = adjustedFluxList.filter((node) => node.ip);\n        this.totalRows = this.items.length;\n        this.currentPage = 1;\n        this.fluxListLoading = false;\n        console.log(this.items);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    onFiltered(filteredItems) {\n      // Trigger pagination to update the number of buttons/pages due to filtering\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=10757f0c&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export var noop = function noop() {};"],"sourceRoot":""}